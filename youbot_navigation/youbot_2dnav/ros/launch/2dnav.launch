<?xml version="1.0"?>
<launch>
	<rosparam command="load" ns="/script_server/base" file="$(find youbot_default_env_config)/$(env ROBOT_ENV)/navigation_goals.yaml"/>	

	<arg name="map" default="$(find youbot_default_env_config)/$(env ROBOT_ENV)/map.yaml" />

	<!--- Run map_server -->
	<node name="map_server" pkg="map_server" type="map_server" args="$(arg map)"/>

	<!-- Run AMCL -->
	<include file="$(find youbot_2dnav)/ros/launch/amcl.launch" />

	<!-- launch move_base node -->
	<include file="$(find youbot_2dnav)/ros/launch/move_base.launch" />

	<node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf" output="screen">
		<param name="freq" value="30.0"/>
		<param name="sensor_timeout" value="1.0"/>
		<param name="publish_tf" value="true"/>
		<param name="odom_used" value="true"/>
		<param name="imu_used" value="false"/>
		<param name="vo_used" value="false"/>
		<param name="output_frame" value="odom"/>
		
		<remap from="odom" to="/odom" />
	</node>
</launch>
